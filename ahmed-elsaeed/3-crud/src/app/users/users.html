<div class="max-w-2xl mx-auto p-6">

  <h1 class="text-2xl font-bold mb-4">Users CRUD</h1>

  <form class="flex gap-2 mb-6" (ngSubmit)="addUser()">
    <input type="text" [(ngModel)]="newUser.name" name="name"
           placeholder="Name"
           class="border p-2 rounded w-1/3">

    <input type="email" [(ngModel)]="newUser.email" name="email"
           placeholder="Email"
           class="border p-2 rounded w-1/3">

    <button class="bg-blue-500 text-white px-4 py-2 rounded">Add</button>
  </form>

  <table class="w-full border-collapse">
    <tr class="bg-gray-100 text-left">
      <th class="p-2">Name</th>
      <th class="p-2">Email</th>
      <th class="p-2">Actions</th>
    </tr>

    <tr *ngFor="let user of users" class="border-b">
      <td class="p-2">
        <input *ngIf="editingId === user.id"
               [(ngModel)]="editUser.name"
               class="border p-1 rounded w-full">
        <span *ngIf="editingId !== user.id">{{ user.name }}</span>
      </td>

      <td class="p-2">
        <input *ngIf="editingId === user.id"
               [(ngModel)]="editUser.email"
               class="border p-1 rounded w-full">
        <span *ngIf="editingId !== user.id">{{ user.email }}</span>
      </td>

      <td class="p-2 flex gap-2">
        <button *ngIf="editingId !== user.id"
                class="bg-yellow-500 text-white px-3 py-1 rounded"
                (click)="startEdit(user)">
          Edit
        </button>

        <button *ngIf="editingId === user.id"
                class="bg-green-500 text-white px-3 py-1 rounded"
                (click)="saveEdit()">
          Save
        </button>

        <button class="bg-red-500 text-white px-3 py-1 rounded"
                (click)="deleteUser(user.id)">
          Delete
        </button>
      </td>
    </tr>
  </table>
</div>
